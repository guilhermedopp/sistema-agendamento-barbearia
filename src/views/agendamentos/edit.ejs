<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Reagendar HorÃ¡rio</title>
    <link rel="stylesheet" href="/css/style.css">
</head>
<body>
    <div class="container auth-container">
        <h2 class="text-center mb-20">ðŸ“… Reagendar / Editar</h2>

        <form action="/agendamentos/<%= agendamento.id %>/atualizar" method="POST">
            
            <label>Data:</label>
            <input type="date" name="data" value="<%= new Date(agendamento.dataHora).toISOString().split('T')[0] %>" required>

            <label>Hora:</label>
            <input type="time" name="hora" value="<%= new Date(agendamento.dataHora).toLocaleTimeString('pt-BR', {hour:'2-digit', minute:'2-digit'}) %>" required>

            <label>Profissional:</label>
            <select name="profissionalId" required>
                <% profissionais.forEach(p => { %>
                    <option value="<%= p.id %>" <%= p.id == agendamento.profissionalId ? 'selected' : '' %>>
                        <%= p.nome %> (<%= p.especialidade %>)
                    </option>
                <% }) %>
            </select>

            <label>ServiÃ§o:</label>
            <select name="servicoId" required>
                <% servicos.forEach(s => { %>
                    <option value="<%= s.id %>" <%= s.id == agendamento.servicoId ? 'selected' : '' %>>
                        <%= s.nome %> - R$<%= s.preco %>
                    </option>
                <% }) %>
            </select>

            <button type="submit" class="btn btn-block">Confirmar MudanÃ§a</button>
            <a href="/agendamentos" class="btn btn-back btn-block text-center" style="margin-top: 10px;">Cancelar</a>
        </form>
    </div>
</body>
</html>